# 串口：UART

启动虚拟机，从Ubuntu桌面左侧的快速启动栏打开“终端”，并执行下面的命令：

```
cd ~/iTop-4412-Expr/Expr06-UART/
make
```

此时，应该能在“`~/iTop-4412-Expr/Expr06-UART/`”中看到编译生成的可执行文件“`uart_write_read`”。将一个已格式化为FAT32格式的U盘或SD卡插入计算机，并将该可执行文件传送到磁盘内。将磁盘插入开发板，超级终端中应该能看到设备挂载的回显内容。在超级终端中执行：

```
cd /mnt/sda1
./uart_write_read /dev/ttySAC3
```

您应该能看到超级终端上显示了一些回显信息。之后请将iTop-4412开发板上连接的串口线从`UART2（CON3）`改接到`UART1（CON2）`上，您应该能看到超级终端开始循环打印字符串“`hello world!`”。之后，您可以随意在超级终端上输入内容，并将串口线重新连接到iTop-4412开发板的`UART2（CON3）`接口上。您应该可以重新获得与开发板控制台交互的能力。那之后，请在超级终端中按下组合键“`Ctrl+C`”，终止程序，您应该可以看到超级终端上所示，打印了类似“`recev all count = 1!`”的文本，表示程序在执行期间收到了数据。

在超级终端中执行“`cd /`”命令并移除插入的磁盘，实验完毕。

本实验的进一步资料可以参考随附的迅为手册：iTOP-4412精英版光盘资料\itop-4412开发板之精英版使用手册_v4.0.pdf的第十章“嵌入式 Linux 系统编程（应用开发）”的第10.22节“在 Android 环境下运行基于 Linux-C 的测试程序”的第10.22.5小节“串口的测试”。
